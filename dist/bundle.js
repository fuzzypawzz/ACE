var AceCustomizer=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"ModalInitiater",(function(){return o})),n.d(t,"ButtonSetup",(function(){return i})),n.d(t,"NewsPage",(function(){return b}));var r,o=(r={addCloseBtnListener:function(e,t){if(!e||!t)throw new Error("modalCloseButtonId or modalElementId not present in configuration");document.querySelector("#".concat(e)).addEventListener("click",(function(){document.querySelector("#".concat(t)).style.display="none"}))},addHtmlToElement:function(e,t){if(!t||!e)throw new Error("GuideContentSectionId or guideHtml is not present in configuration");var n=document.createElement("DIV");n.innerHTML=e,document.querySelector("#".concat(t)).appendChild(n)}},function(e){if(this.guideHtml=e.guideHtml,this.callback=e.callback,this.guideContentSectionId=e.guideContentSectionId,this.modalCloseButtonId=e.modalCloseButtonId,this.modalElementId=e.modalElementId,!this.modalCloseButtonId||!this.modalElementId)throw new Error("Configuration is not correct!");r.addHtmlToElement(this.guideHtml,this.guideContentSectionId),r.addCloseBtnListener(this.modalCloseButtonId,this.modalElementId),this.callback&&this.callback()}),i=function(){var e={addListeners:function(e){e.forEach((function(e){var t=document.getElementById(e.buttonId),n=document.getElementById(e.modalId);t.addEventListener("click",(function(){"block"==n.style.display?n.style.display="none":n.style.display="block"}))}))}};return function(t){if(!Array.isArray(t))throw new Error("buttonListenerConfigs must be of type: Array ");this.buttonListenerConfigs=t,e.addListeners(this.buttonListenerConfigs)}}(),a=function(){function e(e){this.segment=e.segment,this.id=e.id,this.callback=e.callback,this.requestUrl="https://telia-dk.humany.net/"+e.segment+"/guides/"+e.id+"?language=da&credentials=true",e.mockRequestUrl&&(this.mockRequestUrl=e.mockRequestUrl)}return e.prototype.get=function(){var e,t,n=this.callback,r=this.mockRequestUrl?this.mockRequestUrl:this.requestUrl,o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){try{e=JSON.parse(o.responseText),t=e.Body}catch(e){t=o.responseText}n&&n(t)}},o.open("GET",r,!1),o.send()},e}(),s=function(){function e(e){this.parsedData=this.parse(e)}return e.prototype.parse=function(e){for(var t=[],n=[],r=0;r<e.rows[0].cells.length;r++)n[r]=e.rows[0].cells[r].id.toLowerCase().replace(/ /gi,"");for(r=1;r<e.rows.length;r++){for(var o=e.rows[r],i={},a=0;a<o.cells.length;a++)i[n[a]]=o.cells[a].innerHTML;t.push(i)}return t},e.prototype.tableDataToList=function(){return this.parsedData},e}(),l=function(){function e(){}return e.wrapper="newsblock-01-wrapper",e.header="newsblock-01-header",e.logoWrapper="newsblock-01-logo",e.svg="newsblock-01-svg",e.authorAndDateWrapper="newsblock-01-infos",e.author="newsblock-01-headline news-headline pebble-purple",e.date="newsblock-01-date",e.newsContentWrapper="newsblock-01-content",e.newsContentHeadline="newsblock-content-headline",e.newsContentBody="newsblock-content-p",e.newsContentLinks="newsblock-01-refs",e.newsContentPhotos="newsblock-01-photos",e}();var c=function(){function e(e,t){this.template=e,t.id&&(this.id=t.id)}return e.prototype.returnElement=function(){var e=document.createElement("DIV");return this.id&&(e.id=this.id),e.innerHTML=this.template,e},e}(),u=function(){function e(){}return e.DAY="dag",e.MONTH="måned",e.YEAR="år",e.DATE_STRING="danishDateText",e.AUTHOR="afsender",e.HEADLINE="overskrift",e.CONTENT_TEXT="tekst",e.IMG="billede",e.HREF="link",e.ID="id",e}();function d(e){var t=document.createDocumentFragment();return e.forEach((function(e){var n={author:e[u.AUTHOR],date:e[u.DATE_STRING],headline:e[u.HEADLINE],body:e[u.CONTENT_TEXT],photos:e[u.IMG],links:e[u.HREF],id:e[u.ID]},r=function(e){return'\n    <div class="'+l.wrapper+'">\n        <section class="'+l.header+'">\n            <div class="'+l.logoWrapper+'">\n                <svg class="'+l.svg+'">\n                    <use href="#_teliaPebbleIcon26"></use>\n                </svg>\n            </div>\n            <div class="'+l.authorAndDateWrapper+'">\n                <h2 class="'+l.author+'">'+e.author+'</h2>\n                <h3 class="'+l.date+'">'+e.date+'</h3>\n            </div>\n        </section>\n        <section class="'+l.newsContentWrapper+'">\n            <h3 class="'+l.newsContentHeadline+'">'+e.headline+'</h3>\n            <section class="'+l.newsContentBody+'">'+e.body+'</section>\n        </section>\n        <section class="'+l.newsContentPhotos+'">\n            '+e.photos+'\n        </section>\n        <section class="'+l.newsContentLinks+'">\n            '+e.links+"\n        </section>\n    </div>\n    "}(n),o=new c(r,n).returnElement();t.appendChild(o)})),t}function f(e){var t,n={jan:"january",feb:"february",mar:"march",apr:"april",maj:"may",jun:"june",jul:"july",aug:"august",sept:"september",okt:"october",nov:"november",dec:"december"},r={1:"january",2:"february",3:"march",4:"april",5:"may",6:"june",7:"july",8:"august",9:"september",10:"october",11:"november",12:"december"};return 1==isNaN(e)&&Object.keys(n).forEach((function(r){(e.toLowerCase().includes(r)||e.toLowerCase().includes(n[r]))&&(t=n[r])})),t||(e=parseInt(e,10),Object.keys(r).forEach((function(n){e==n&&(t=r[n])}))),t||e}var h=function(){function e(){}return e.NEWS_FROM_TODAY_TEXT="Nyhed fra i dag",e.DEFAULT_AUTHOR="SU Teamet",e}(),p=function(){function e(){}return e.developerModeIsOn="Developer mode is ON. Remember to turn off developer mode before deploying to production!",e.missingConfigurationFile="There is no configuration",e.couldNotFindTableId="No table with the provided id exists",e.NOT_ARRAY_OR_EMPTY="The argument is either not an Array or does not contain any data",e.COULD_NOT_UPDATE_DOM="Target element with the provided id does not exist",e}();function m(e){if(!Array.isArray(e)||!e.length)throw new Error(p.NOT_ARRAY_OR_EMPTY);var t=u.DAY,n=u.MONTH,r=u.YEAR,o=u.AUTHOR;return e.forEach((function(e){Object.entries(e).forEach((function(t){e[t[0]]=function(e,t){if(e.includes("&nbsp;")&&(e=e.replace(/&nbsp;/g,"")),"tekst"==t)return e;if(e.includes("<p>")){var n=e.replace(/<p>/g,"");e=n.replace(/<\/p>/g,"")}if(e.includes("<div>")){n=e.replace(/<div>/g,"");e=n.replace(/<\/div>/g,"")}if(e.includes("<br>")){n=e.replace(/<br>/g," ");e=n.replace(/<\/br>/g," ")}if("0"==e.slice(0,1)){n=e.replace(/^0+/,"");e=n}return e}(t[1],t[0]).trim()}));var i=e[t],a=f(e[n]),s=e[r];e.date=new Date(a+" "+i+", "+s+" 00:00:00");var l,c,u,d,p,m=new Date,b=f(m.getMonth()+1),g=new Date(b+", "+m.getDate()+", "+m.getFullYear()+" 00:00:00"),y=(l=a,u={jan:"Januar",feb:"Februar",mar:"Marts",apr:"April",maj:"Maj",may:"Maj",jun:"Juni",jul:"Juli",aug:"August",sept:"September",okt:"Oktober",oct:"Oktober",nov:"November",dec:"December"},Object.keys(u).forEach((function(e){l.toLowerCase().includes(e)&&(c=u[e])})),c||l);d=e.date,p=g,d.getFullYear()===p.getFullYear()&&d.getMonth()===p.getMonth()&&d.getDate()===p.getDate()?e.danishDateText=h.NEWS_FROM_TODAY_TEXT:e.danishDateText=i+". "+y+" "+s,e[o]||(e[o]=h.NEWS_FROM_TODAY_TEXT)})),e}var b=function(){function e(e){if(!e)throw new Error("Configuration missing.");this.guideIds=e.guideIds,this.tableElementId=e.tableElementId,this.segment=e.segment,this.handler=this.handler.bind(this)}return e.prototype.init=function(){var e=this;this.guideIds.forEach((function(t){var n={segment:e.segment,tableElementId:e.tableElementId,id:t,callback:e.handler,mockRequestUrl:"http://127.0.0.1:5500/"};new a(n).get()}))},e.prototype.handler=function(e){var t=function(e,t){var n,r=document.createElement("DIV");r.innerHTML=e;try{n=r.querySelector("#"+t)}catch(e){console.log(e)}return n||(console.warn("A table element with id: "+t+" could not be found. First found table element will be used instead."),n=r.querySelector("table")),n||null}(e,this.tableElementId);if(!t)throw new Error("Table of news was not found. Make sure the id of the element is correct.");var n,r,o=m(new s(t).tableDataToList());this.tableData=(r=15931,(n=o).forEach((function(e){e.id="newsArticle_"+r,r++})),n),console.log(this.tableData);var i=d(this.tableData);this.updateDOM(i,"body")},e.prototype.updateDOM=function(e,t){var n=document.querySelector("#"+t);n?n.appendChild(e):console.error("updateDOM: "+p.COULD_NOT_UPDATE_DOM)},e}()}]);